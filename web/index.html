<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GitHub 文件加速与 Docker 镜像代理工具">
    <meta name="theme-color" content="#fafdff">
    <title>GitHub 文件加速</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <header class="app-bar">
            <h1>GitHub 文件加速</h1>
        </header>

        <main>
            <div class="card">
                <div class="format-selector" id="formatSelector">
                    <button class="format-btn active" data-format="direct">Direct Link</button>
                    <button class="format-btn" data-format="git">Git Clone</button>
                    <button class="format-btn" data-format="wget">Wget</button>
                    <button class="format-btn" data-format="curl">Curl</button>
                    <button class="format-btn" data-format="docker">Docker</button>
                </div>

                <div class="input-group">
                    <div class="input-container">
                        <input type="text" class="text-field" id="inputUrl" placeholder="粘贴 GitHub 链接 (https://...)"
                            autocomplete="off">
                        <div class="input-actions">
                            <button class="icon-btn" id="pasteBtn" title="粘贴" style="display:none;">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 16H5V5h2v3h10V5h2v14z" />
                                </svg>
                            </button>
                            <button class="icon-btn" id="clearBtn" title="清空" style="display:none;">
                                <svg viewBox="0 0 24 24">
                                    <path
                                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="error-msg" id="errorMsg">请输入有效的 GitHub 链接</div>
                </div>

                <button class="submit-btn" id="generateBtn">
                    <svg viewBox="0 0 24 24">
                        <path
                            d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
                    </svg>
                    生成链接 / 命令
                </button>
            </div>

            <div class="card output-card" id="outputCard">
                <div class="output-content" id="outputContent"></div>
                <div class="output-actions">
                    <button class="icon-btn" id="copyBtn" title="复制">
                        <svg id="copyIcon" viewBox="0 0 24 24">
                            <path
                                d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" />
                        </svg>
                    </button>
                    <button class="icon-btn" id="openBtn" title="新窗口打开">
                        <svg viewBox="0 0 24 24">
                            <path
                                d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- 测速链接区域 -->
            <div class="speed-test-section">
                <a href="https://gh-proxy.top/github.com/vansour/gh-proxy/releases/download/testfile/500MB.tf"
                    class="speed-test-link" target="_blank">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                        <path
                            d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z" />
                    </svg>
                    测试下载速度 (500MB)
                </a>
            </div>

            <!-- 长条形统计数据面板 -->
            <div class="stats-container hidden" id="statsContainer">
                <!-- 流量统计条 -->
                <div class="stat-bar-card">
                    <div class="stat-header">
                        <span>近30天总流量</span>
                        <span class="stat-value" id="cfTotalBytes">-</span>
                    </div>
                    <div class="progress-track">
                        <div class="progress-fill" id="cfBytesBar" style="width: 0%"></div>
                    </div>
                    <div class="stat-details">
                        <span>节省流量 (缓存)</span>
                        <span><span id="cfCachedBytes">-</span> (<span id="cfCachedBytesPct">0%</span>)</span>
                    </div>
                </div>

                <!-- 请求统计条 -->
                <div class="stat-bar-card">
                    <div class="stat-header">
                        <span>近30天总请求</span>
                        <span class="stat-value" id="cfTotalReqs">-</span>
                    </div>
                    <div class="progress-track">
                        <div class="progress-fill" id="cfReqsBar" style="width: 0%"></div>
                    </div>
                    <div class="stat-details">
                        <span>缓存命中请求</span>
                        <span><span id="cfCachedReqs">-</span> (<span id="cfCachedReqsPct">0%</span>)</span>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            &copy;
            <script>document.write(new Date().getFullYear())</script> GH-Proxy | <a
                href="https://github.com/vansour/gh-proxy" target="_blank">源码</a>
        </footer>
    </div>

    <div class="toast" id="toast">已复制到剪贴板</div>
    <div class="version" id="versionBadge">v...</div>

    <script src="script.js"></script>
</body>

</html>